<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/util https://www.springframework.org/schema/util/spring-util.xsd">

  <context:property-placeholder location="classpath:musicPlayer.properties"/>

  <bean id="testBean1"
        class="framework.lesson.TestBean">
    <constructor-arg value="Neil"/>
  </bean>

  <bean id="testBean2"
        class = "framework.lesson.TestBean">
    <constructor-arg value="Thomas"/>
  </bean>

  <bean id="musicBean"
        class = "framework.lesson.ioc.ClassicalMusic">
  </bean>

  <bean id="musicBean1"
        class="framework.lesson.ioc.RockMusic">
  </bean>

  <bean id="jazzMusic"
        class="framework.lesson.ioc.JazzMusic">
  </bean>

  <bean id="musicPlayer"
        class="framework.lesson.ioc.MusicPlayer">
    <constructor-arg ref="musicBean"/>
  </bean>

<!--  DI via setter -->
  <bean id="setterMusicPlayer"
        class="framework.lesson.ioc.MusicPlayer">
    <property name="music" ref="jazzMusic"/>
  </bean>

  <bean id="advancedMusicPlayer"
        class="framework.lesson.ioc.MusicPlayer">
    <property name="music" ref="musicBean"/>
    <property name="name" value="My Playlist"/>
    <property name="volume" value="60"/>
  </bean>

  <bean id="musicPlayerProperties"
        class="framework.lesson.ioc.MusicPlayer">
    <property name="music" ref="jazzMusic"/>
    <property name="name" value="${musicPlayerProperties.name}"/>
    <property name="volume" value="${musicPlayerProperties.volume}"/>
  </bean>

  <bean id="classical"
        class="framework.lesson.ioc.ClassicalMusic">
  </bean>

  <bean id="jazz"
        class="framework.lesson.ioc.JazzMusic">
  </bean>

  <bean id="rap"
        class="framework.lesson.ioc.RapMusic">
  </bean>

<!--  Method 1 of creation list-->
  <bean id="list" class="java.util.ArrayList">
    <constructor-arg>
      <list>
        <ref bean="rap"/>
        <ref bean="classical"/>
        <ref bean="jazz"/>
      </list>
    </constructor-arg>
  </bean>

  <!--  Method 2 of creation list-->
  <util:list id="myList" value-type="framework.lesson.ioc.Music">
    <bean id="classical"
          class="framework.lesson.ioc.ClassicalMusic">
    </bean>

    <bean id="jazz"
          class="framework.lesson.ioc.JazzMusic">
    </bean>

    <bean id="rap"
          class="framework.lesson.ioc.RapMusic">
    </bean>
  </util:list>

  <bean id="listMusic"
        class="framework.lesson.ioc.MusicPlayer">
    <property name="listOfMusic" ref="myList"/>
    <property name="volume" value="${listMusic.volume}"/>
    <property name="name" value="${listMusic.name}"/>
  </bean>

</beans>
